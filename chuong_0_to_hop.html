<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·ªï H·ª£p - 4 B√†i ƒê·∫ßy ƒê·ªß</title>
    
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #333;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
        }
        
        .controls {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .search-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 50px;
            font-size: 16px;
            outline: none;
        }
        
        .search-input:focus {
            border-color: #667eea;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .exercise {
            background: white;
            margin-bottom: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .exercise-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            font-size: 1.5em;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .exercise-header:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }
        
        .exercise-body {
            padding: 30px;
        }
        
        .problem {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .solution {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .step {
            margin: 15px 0;
            padding-left: 20px;
        }
        
        .step strong {
            display: block;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .formula {
            background: #f8f9fa;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
            overflow-x: auto;
        }
        
        .answer {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 20px;
        }
        
        .icon {
            transition: transform 0.3s;
        }
        
        .exercise-header.collapsed .icon {
            transform: rotate(-90deg);
        }
        
        .exercise-body.collapsed {
            display: none;
        }
        
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #667eea;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5em;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1000;
        }
        
        .scroll-top:hover {
            background: #764ba2;
        }
        
        ul {
            margin-left: 30px;
            line-height: 2;
        }
        
        @media print {
            .header, .controls, .scroll-top {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìä PH·∫¶N M·ªû ƒê·∫¶U: B·ªî T√öC GI·∫¢I T√çCH T·ªî H·ª¢P</h1>
        <div class="subtitle">4 B√†i T·∫≠p - 15 C√¢u H·ªèi - ƒê·∫ßy ƒê·ªß L·ªùi Gi·∫£i</div>
    </div>
    
    <div class="controls">
        <input type="text" class="search-input" id="searchInput" placeholder="üîç T√¨m ki·∫øm...">
        <button class="btn btn-primary" onclick="expandAll()">üìÇ M·ªü T·∫•t C·∫£</button>
        <button class="btn btn-primary" onclick="collapseAll()">üìÅ ƒê√≥ng T·∫•t C·∫£</button>
        <button class="btn btn-success" onclick="window.print()">üñ®Ô∏è In PDF</button>
    </div>
    
    <div class="container">
        
        <!-- B√ÄI 1 -->
        <div class="exercise">
            <div class="exercise-header" onclick="toggleExercise(this)">
                <span>üìù B√ÄI 1: B√†i to√°n b·∫Øt tay - T√¨m s·ªë ng∆∞·ªùi</span>
                <span class="icon">‚ñº</span>
            </div>
            <div class="exercise-body">
                <div class="problem">
                    <strong>ƒê·ªÅ b√†i:</strong><br>
                    Trong m·ªôt bu·ªïi h·ªçp l·ªõp, m·ªói b·∫°n b·∫Øt tay t·∫•t c·∫£ c√°c b·∫°n kh√°c 1 l·∫ßn. Ng∆∞·ªùi ta ƒë·∫øm ƒë∆∞·ª£c c√≥ t·∫•t c·∫£ 435 c√°i b·∫Øt tay. H·ªèi c√≥ bao nhi√™u b·∫°n tham d·ª± bu·ªïi h·ªçp l·ªõp ƒë√≥?
                </div>
                
                <div class="solution">
                    <h3>üí° L·ªùi gi·∫£i chi ti·∫øt:</h3>
                    
                    <div class="step">
                        <strong>B∆∞·ªõc 1: Ph√¢n t√≠ch b√†i to√°n</strong>
                        <ul>
                            <li>M·ªói c√°i b·∫Øt tay l√† s·ª± k·∫øt h·ª£p c·ªßa 2 b·∫°n</li>
                            <li>G·ªçi n l√† s·ªë b·∫°n tham d·ª± bu·ªïi h·ªçp</li>
                            <li>S·ªë c√°i b·∫Øt tay = s·ªë c√°ch ch·ªçn 2 b·∫°n t·ª´ n b·∫°n</li>
                        </ul>
                    </div>
                    
                    <div class="step">
                        <strong>B∆∞·ªõc 2: L·∫≠p ph∆∞∆°ng tr√¨nh</strong>
                        <div class="formula">
                            S·ªë c√°ch ch·ªçn 2 b·∫°n t·ª´ n b·∫°n l√†:<br>
                            $$C_n^2 = \frac{n!}{2!(n-2)!} = \frac{n(n-1)}{2}$$<br><br>
                            Theo ƒë·ªÅ b√†i:<br>
                            $$\frac{n(n-1)}{2} = 435$$
                        </div>
                    </div>
                    
                    <div class="step">
                        <strong>B∆∞·ªõc 3: Gi·∫£i ph∆∞∆°ng tr√¨nh</strong>
                        <div class="formula">
                            $$n(n-1) = 870$$<br>
                            $$n^2 - n - 870 = 0$$<br><br>
                            Gi·∫£i ph∆∞∆°ng tr√¨nh b·∫≠c 2:<br>
                            $$\Delta = 1 + 4 \times 870 = 3481 = 59^2$$<br><br>
                            $$n = \frac{1 + 59}{2} = 30$$ (lo·∫°i nghi·ªám √¢m)
                        </div>
                    </div>
                    
                    <div class="answer">
                        ‚úÖ ƒê√°p s·ªë: C√≥ <strong>30 b·∫°n</strong> tham d·ª± bu·ªïi h·ªçp l·ªõp
                    </div>
                </div>
            </div>
        </div>
        
        <!-- B√ÄI 2 -->
        <div class="exercise">
            <div class="exercise-header" onclick="toggleExercise(this)">
                <span>üìù B√ÄI 2: Ch·ªçn bi t·ª´ h·ªôp (3 c√¢u a, b, c)</span>
                <span class="icon">‚ñº</span>
            </div>
            <div class="exercise-body">
                <div class="problem">
                    <strong>ƒê·ªÅ b√†i:</strong><br>
                    M·ªôt h·ªôp g·ªìm 20 bi (6 tr·∫Øng, 4 ƒë·ªè v√† 10 xanh). C√≥ bao nhi√™u c√°ch:<br>
                    <strong>a)</strong> Ch·ªçn 4 vi√™n bi t·ª´ h·ªôp?<br>
                    <strong>b)</strong> Ch·ªçn 4 vi√™n bi t·ª´ h·ªôp, trong ƒë√≥ c√≥ √≠t nh·∫•t 1 bi ƒë·ªè?<br>
                    <strong>c)</strong> Ch·ªçn ra 4 vi√™n bi, trong ƒë√≥ s·ªë bi tr·∫Øng nhi·ªÅu h∆°n t·ªïng s·ªë bi ƒë·ªè v√† xanh?
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u a) Ch·ªçn 4 vi√™n bi t·ª´ h·ªôp</h3>
                    <div class="formula">
                        $$C_{20}^4 = \frac{20!}{4! \times 16!} = \frac{20 \times 19 \times 18 \times 17}{24} = 4845$$
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>4845 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u b) C√≥ √≠t nh·∫•t 1 bi ƒë·ªè</h3>
                    <div class="step">
                        <strong>C√°ch 1: T√≠nh tr·ª±c ti·∫øp</strong>
                        <ul>
                            <li>1 ƒë·ªè, 3 bi kh√°c: $C_4^1 \times C_{16}^3 = 4 \times 560 = 2240$ c√°ch</li>
                            <li>2 ƒë·ªè, 2 bi kh√°c: $C_4^2 \times C_{16}^2 = 6 \times 120 = 720$ c√°ch</li>
                            <li>3 ƒë·ªè, 1 bi kh√°c: $C_4^3 \times C_{16}^1 = 4 \times 16 = 64$ c√°ch</li>
                            <li>4 ƒë·ªè: $C_4^4 = 1$ c√°ch</li>
                        </ul>
                        <div class="formula">T·ªïng: $2240 + 720 + 64 + 1 = 3025$ c√°ch</div>
                    </div>
                    
                    <div class="step">
                        <strong>C√°ch 2: Ph·∫ßn b√π (ƒë∆°n gi·∫£n h∆°n)</strong>
                        <div class="formula">
                            S·ªë c√°ch ch·ªçn 4 bi kh√¥ng c√≥ bi ƒë·ªè n√†o:<br>
                            $$C_{16}^4 = 1820$$<br><br>
                            S·ªë c√°ch ch·ªçn c√≥ √≠t nh·∫•t 1 bi ƒë·ªè:<br>
                            $$4845 - 1820 = 3025$$
                        </div>
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>3025 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u c) S·ªë bi tr·∫Øng nhi·ªÅu h∆°n t·ªïng bi ƒë·ªè v√† xanh</h3>
                    <div class="step">
                        <strong>Ph√¢n t√≠ch:</strong> S·ªë bi tr·∫Øng > 2 (v√¨ t·ªïng 4 bi)
                    </div>
                    <div class="step">
                        <strong>TH1: 3 bi tr·∫Øng, 1 bi kh√°c</strong>
                        <div class="formula">$$C_6^3 \times C_{14}^1 = 20 \times 14 = 280$$</div>
                    </div>
                    <div class="step">
                        <strong>TH2: 4 bi tr·∫Øng</strong>
                        <div class="formula">$$C_6^4 = 15$$</div>
                    </div>
                    <div class="formula">
                        <strong>T·ªïng:</strong> $280 + 15 = 295$ c√°ch
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>295 c√°ch</strong></div>
                </div>
            </div>
        </div>
        
        <!-- B√ÄI 3 -->
        <div class="exercise">
            <div class="exercise-header" onclick="toggleExercise(this)">
                <span>üìù B√ÄI 3: B·∫ßu ban c√°n s·ª± l·ªõp (3 c√¢u a, b, c)</span>
                <span class="icon">‚ñº</span>
            </div>
            <div class="exercise-body">
                <div class="problem">
                    <strong>ƒê·ªÅ b√†i:</strong><br>
                    M·ªôt l·ªõp c√≥ 45 sinh vi√™n, trong ƒë√≥ c√≥ 20 nam. C√≥ bao nhi√™u c√°ch b·∫ßu ra ban c√°n s·ª± l·ªõp g·ªìm 4 sinh vi√™n th·ªèa m√£n:<br>
                    <em>S·ªë n·ªØ: 45 - 20 = 25</em><br><br>
                    <strong>a)</strong> C√≥ ƒë√∫ng 2 nam<br>
                    <strong>b)</strong> √çt nh·∫•t m·ªôt nam<br>
                    <strong>c)</strong> Nhi·ªÅu nh·∫•t 2 nam
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u a) C√≥ ƒë√∫ng 2 nam</h3>
                    <div class="formula">
                        Ch·ªçn 2 nam t·ª´ 20 nam v√† 2 n·ªØ t·ª´ 25 n·ªØ:<br>
                        $$C_{20}^2 \times C_{25}^2 = \frac{20 \times 19}{2} \times \frac{25 \times 24}{2} = 190 \times 300 = 57000$$
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>57000 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u b) √çt nh·∫•t m·ªôt nam</h3>
                    <div class="step">
                        <strong>C√°ch: Ph·∫ßn b√π</strong>
                        <div class="formula">
                            T·ªïng s·ªë c√°ch ch·ªçn 4 SV b·∫•t k·ª≥: $C_{45}^4 = 148995$<br><br>
                            S·ªë c√°ch ch·ªçn 4 SV to√†n n·ªØ: $C_{25}^4 = 12650$<br><br>
                            S·ªë c√°ch c√≥ √≠t nh·∫•t 1 nam: $148995 - 12650 = 136345$
                        </div>
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>136345 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u c) Nhi·ªÅu nh·∫•t 2 nam</h3>
                    <div class="step">
                        <strong>Nhi·ªÅu nh·∫•t 2 nam nghƒ©a l√†: 0 nam, 1 nam, ho·∫∑c 2 nam</strong>
                        <ul>
                            <li>0 nam (4 n·ªØ): $C_{25}^4 = 12650$</li>
                            <li>1 nam, 3 n·ªØ: $C_{20}^1 \times C_{25}^3 = 20 \times 2300 = 46000$</li>
                            <li>2 nam, 2 n·ªØ: $C_{20}^2 \times C_{25}^2 = 190 \times 300 = 57000$</li>
                        </ul>
                        <div class="formula">
                            <strong>T·ªïng:</strong> $12650 + 46000 + 57000 = 115650$
                        </div>
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>115650 c√°ch</strong></div>
                </div>
            </div>
        </div>
        
        <!-- B√ÄI 4 -->
        <div class="exercise">
            <div class="exercise-header" onclick="toggleExercise(this)">
                <span>üìù B√ÄI 4: Hai h·ªôp bi (5 c√¢u a, b, c, d, e)</span>
                <span class="icon">‚ñº</span>
            </div>
            <div class="exercise-body">
                <div class="problem">
                    <strong>ƒê·ªÅ b√†i:</strong><br>
                    C√≥ 2 h·ªôp. H·ªôp I ƒë·ª±ng 10 bi (8 xanh, 2 ƒë·ªè). H·ªôp II ƒë·ª±ng 20 bi (15 xanh, 5 ƒë·ªè).<br><br>
                    <strong>a)</strong> C√≥ bao nhi√™u c√°ch l·∫•y t·ª´ m·ªói h·ªôp ra 2 bi?<br>
                    <strong>b)</strong> C√≥ bao nhi√™u c√°ch l·∫•y t·ª´ m·ªói h·ªôp ra 2 bi sao cho c√≥ ƒë√∫ng 1 bi ƒë·ªè ƒë∆∞·ª£c l·∫•y ra?<br>
                    <strong>c)</strong> C√≥ bao nhi√™u c√°ch l·∫•y t·ª´ m·ªói h·ªôp ra 2 bi sao cho c√≥ ƒë√∫ng 2 bi ƒë·ªè ƒë∆∞·ª£c l·∫•y ra?<br>
                    <strong>d)</strong> C√≥ bao nhi√™u c√°ch l·∫•y t·ª´ m·ªói h·ªôp ra 2 bi sao cho c√≥ ƒë√∫ng 3 bi ƒë·ªè ƒë∆∞·ª£c l·∫•y ra?<br>
                    <strong>e)</strong> C√≥ bao nhi√™u c√°ch l·∫•y t·ª´ m·ªói h·ªôp ra 2 bi sao cho c√°c bi l·∫•y ra c√πng m√†u?
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u a) L·∫•y t·ª´ m·ªói h·ªôp ra 2 bi</h3>
                    <div class="formula">
                        T·ª´ h·ªôp I l·∫•y 2 bi: $C_{10}^2 = 45$ c√°ch<br><br>
                        T·ª´ h·ªôp II l·∫•y 2 bi: $C_{20}^2 = 190$ c√°ch<br><br>
                        T·ªïng s·ªë c√°ch (theo quy t·∫Øc nh√¢n): $45 \times 190 = 8550$ c√°ch
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>8550 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u b) ƒê√∫ng 1 bi ƒë·ªè ƒë∆∞·ª£c l·∫•y ra</h3>
                    <div class="step">
                        <strong>TH1: 1 ƒë·ªè t·ª´ I (1 ƒë·ªè + 1 xanh), 2 xanh t·ª´ II</strong>
                        <div class="formula">$$C_2^1 \times C_8^1 \times C_{15}^2 = 2 \times 8 \times 105 = 1680$$</div>
                    </div>
                    <div class="step">
                        <strong>TH2: 2 xanh t·ª´ I, 1 ƒë·ªè t·ª´ II (1 ƒë·ªè + 1 xanh)</strong>
                        <div class="formula">$$C_8^2 \times C_5^1 \times C_{15}^1 = 28 \times 5 \times 15 = 2100$$</div>
                    </div>
                    <div class="formula">
                        <strong>T·ªïng:</strong> $1680 + 2100 = 3780$ c√°ch
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>3780 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u c) ƒê√∫ng 2 bi ƒë·ªè ƒë∆∞·ª£c l·∫•y ra</h3>
                    <div class="step">
                        <strong>TH1: 2 ƒë·ªè t·ª´ I, 2 xanh t·ª´ II</strong>
                        <div class="formula">$$C_2^2 \times C_{15}^2 = 1 \times 105 = 105$$</div>
                    </div>
                    <div class="step">
                        <strong>TH2: 1 ƒë·ªè + 1 xanh t·ª´ I, 1 ƒë·ªè + 1 xanh t·ª´ II</strong>
                        <div class="formula">$$C_2^1 \times C_8^1 \times C_5^1 \times C_{15}^1 = 2 \times 8 \times 5 \times 15 = 1200$$</div>
                    </div>
                    <div class="step">
                        <strong>TH3: 2 xanh t·ª´ I, 2 ƒë·ªè t·ª´ II</strong>
                        <div class="formula">$$C_8^2 \times C_5^2 = 28 \times 10 = 280$$</div>
                    </div>
                    <div class="formula">
                        <strong>T·ªïng:</strong> $105 + 1200 + 280 = 1585$ c√°ch
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>1585 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u d) ƒê√∫ng 3 bi ƒë·ªè ƒë∆∞·ª£c l·∫•y ra</h3>
                    <div class="step">
                        <strong>TH1: 2 ƒë·ªè t·ª´ I, 1 ƒë·ªè + 1 xanh t·ª´ II</strong>
                        <div class="formula">$$C_2^2 \times C_5^1 \times C_{15}^1 = 1 \times 5 \times 15 = 75$$</div>
                    </div>
                    <div class="step">
                        <strong>TH2: 1 ƒë·ªè + 1 xanh t·ª´ I, 2 ƒë·ªè t·ª´ II</strong>
                        <div class="formula">$$C_2^1 \times C_8^1 \times C_5^2 = 2 \times 8 \times 10 = 160$$</div>
                    </div>
                    <div class="formula">
                        <strong>T·ªïng:</strong> $75 + 160 = 235$ c√°ch
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>235 c√°ch</strong></div>
                </div>
                
                <div class="solution">
                    <h3>üí° C√¢u e) C√°c bi l·∫•y ra c√πng m√†u</h3>
                    <div class="step">
                        <strong>TH1: T·∫•t c·∫£ 4 bi ƒë·ªÅu xanh</strong>
                        <div class="formula">$$C_8^2 \times C_{15}^2 = 28 \times 105 = 2940$$</div>
                    </div>
                    <div class="step">
                        <strong>TH2: T·∫•t c·∫£ 4 bi ƒë·ªÅu ƒë·ªè</strong>
                        <div class="formula">$$C_2^2 \times C_5^2 = 1 \times 10 = 10$$</div>
                    </div>
                    <div class="formula">
                        <strong>T·ªïng:</strong> $2940 + 10 = 2950$ c√°ch
                    </div>
                    <div class="answer">‚úÖ ƒê√°p s·ªë: <strong>2950 c√°ch</strong></div>
                </div>
            </div>
        </div>
        
    </div>
    
    <div class="scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë</div>
    
    <script>
        function toggleExercise(header) {
            header.classList.toggle('collapsed');
            header.nextElementSibling.classList.toggle('collapsed');
            
            if (!header.classList.contains('collapsed')) {
                MathJax.typesetPromise([header.nextElementSibling]).catch(err => console.log(err));
            }
        }
        
        function expandAll() {
            document.querySelectorAll('.exercise-header').forEach(h => {
                h.classList.remove('collapsed');
                h.nextElementSibling.classList.remove('collapsed');
            });
            MathJax.typesetPromise().catch(err => console.log(err));
        }
        
        function collapseAll() {
            document.querySelectorAll('.exercise-header').forEach(h => {
                h.classList.add('collapsed');
                h.nextElementSibling.classList.add('collapsed');
            });
        }
        
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            document.querySelectorAll('.exercise').forEach(ex => {
                const text = ex.textContent.toLowerCase();
                ex.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        });
        
        window.addEventListener('scroll', function() {
            const scrollTop = document.querySelector('.scroll-top');
            scrollTop.style.display = window.pageYOffset > 300 ? 'flex' : 'none';
        });
        
        window.addEventListener('load', function() {
            MathJax.typesetPromise().catch(err => console.log(err));
        });
    </script>
</body>
</html>

